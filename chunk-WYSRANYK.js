import{a as C}from"./chunk-PS6RDKFU.js";import"./chunk-LX7ODXZP.js";import"./chunk-5W7NWR7I.js";import{Ia as s,Ma as p,Mb as x,Ob as S,Ra as f,Va as u,ab as b,cb as n,db as o,hb as h,ib as i,jb as l}from"./chunk-QKIDFHIK.js";function _(c,e){if(c&1&&(n(0,"tr")(1,"td"),i(2),o(),n(3,"td"),i(4),o(),n(5,"td"),i(6),o(),n(7,"td"),i(8),o()()),c&2){let t=e.$implicit,a=h();s(2),l(t.userId),s(2),l(a.formatFirebaseTimestamp(t.timestamp)),s(2),l(t.details),s(2),l(t.action)}}var v=class c{constructor(e){this.logService=e}logsList=[];ngOnInit(){this.receberLogs()}receberLogs(){this.logService.getLogs().subscribe(e=>{this.logsList=e,this.logsList.sort((t,a)=>{let m=r=>r?typeof r.toDate=="function"?r.toDate().getTime():r instanceof Date?r.getTime():0:0,d=m(t.timestamp);return m(a.timestamp)-d})})}formatFirebaseTimestamp(e){if(!e||typeof e.toDate!="function")return"Data inv\xE1lida";let t=e.toDate(),a=String(t.getDate()).padStart(2,"0"),m=String(t.getMonth()+1).padStart(2,"0"),d=t.getFullYear(),g=String(t.getHours()).padStart(2,"0"),r=String(t.getMinutes()).padStart(2,"0"),M=String(t.getSeconds()).padStart(2,"0");return`${a}/${m}/${d} ${g}:${r}:${M}`}static \u0275fac=function(t){return new(t||c)(p(C))};static \u0275cmp=f({type:c,selectors:[["app-logs"]],decls:14,vars:1,consts:[[1,"scrollable-table"],[1,"tabela-madeiras"],[4,"ngFor","ngForOf"]],template:function(t,a){t&1&&(n(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th"),i(5,"Usuario"),o(),n(6,"th"),i(7,"Horario"),o(),n(8,"th"),i(9,"Detalhes"),o(),n(10,"th"),i(11,"A\xE7\xE3o"),o()()(),n(12,"tbody"),u(13,_,9,4,"tr",2),o()()()),t&2&&(s(13),b("ngForOf",a.logsList))},dependencies:[S,x],styles:[".scrollable-table[_ngcontent-%COMP%]{max-height:90vh;overflow-y:auto;margin-top:20px}.tabela-madeiras[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;min-width:600px}.tabela-madeiras[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .tabela-madeiras[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:10px;text-align:center}.tabela-madeiras[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:-1px;z-index:1;font-weight:700;font-size:16px;background-color:#f2f2f2;color:#333}.tabela-madeiras[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f2f2f2;color:#333;width:20vw}.tabela-madeiras[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f9f9f9}.tabela-madeiras[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}"]})};export{v as LogsComponent};
