import{$ as pe,R as he,U as $,X as p,Y as A,Z as O,aa as N,ba as fe,c as C,h as le,ha as w,i as de,k as U,ka as W,l as z,ma as g,nb as me,ob as ke,rb as H,ua as ge}from"./chunk-TPPPVHGH.js";import{C as K,G as we,H as q,I as M,Ia as Z,Ja as X,K as l,a as Ae,e as B,jb as Y,m as Ee,o as ve,w as V,xa as G,y as Te}from"./chunk-EZZN43H3.js";import{h as f}from"./chunk-2HP4JIPC.js";var Me="firebase",Fe="11.7.1";l(Me,Fe,"app");function J(e){e===void 0&&(fe(J),e=p(w));let t=e.get(W);return n=>new C(r=>{let o=t.add(),i=!1;function a(){i||(o(),i=!0)}let u=n.subscribe({next:c=>{r.next(c),a()},complete:()=>{r.complete(),a()},error:c=>{r.error(c),a()}});return u.add(()=>{r.unsubscribe(),a()}),u})}var I=new me("ANGULARFIRE2_VERSION");function Q(e,t,n){if(t){if(t.length===1)return t[0];let i=t.filter(a=>a.app===n);if(i.length===1)return i[0]}return n.container.getProvider(e).getImmediate({optional:!0})}var x=(e,t)=>{let n=t?[t]:M(),r=[];return n.forEach(o=>{o.container.getProvider(e).instances.forEach(a=>{r.includes(a)||r.push(a)})}),r},b=function(e){return e[e.SILENT=0]="SILENT",e[e.WARN=1]="WARN",e[e.VERBOSE=2]="VERBOSE",e}(b||{}),be=H()&&typeof Zone<"u"?b.WARN:b.SILENT;var F=class{zone;delegate;constructor(t,n=de){this.zone=t,this.delegate=n}now(){return this.delegate.now()}schedule(t,n,r){let o=this.zone,i=function(a){o?o.runGuarded(()=>{t.apply(this,[a])}):t.apply(this,[a])};return this.delegate.schedule(i,n,r)}},P=(()=>{class e{outsideAngular;insideAngular;constructor(){let n=p(g);this.outsideAngular=n.runOutsideAngular(()=>new F(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new F(typeof Zone>"u"?void 0:Zone.current,le))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ie=!1;function xe(e,t){!Ie&&(be>b.SILENT||H())&&(Ie=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),be>=t&&console.warn(`Firebase API called outside injection context: ${e.name}`)}function Le(e){let t=p(g,{optional:!0});return t?t.runOutsideAngular(()=>e()):e()}function E(e){let t=p(g,{optional:!0});return t?t.run(()=>e()):e()}var je=(e,t,n)=>(...r)=>(t&&setTimeout(t,0),N(n,()=>E(()=>e.apply(void 0,r)))),m=(e,t,n)=>(n||=t?b.WARN:b.VERBOSE,function(){let r,o=arguments,i,a,u;try{i=p(P),a=p(W),u=p(pe)}catch{return xe(e,n),e.apply(this,o)}for(let s=0;s<arguments.length;s++)typeof o[s]=="function"&&(t&&(r||=E(()=>a.add())),o[s]=je(o[s],r,u));let c=Le(()=>e.apply(this,o));return t?c instanceof C?c.pipe(z(i.outsideAngular),U(i.insideAngular),J(u)):c instanceof Promise?E(()=>new Promise((s,T)=>{a.run(()=>c).then(R=>N(u,()=>E(()=>s(R))),R=>N(u,()=>E(()=>T(R))))})):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:E(()=>c):c instanceof C?c.pipe(z(i.outsideAngular),U(i.insideAngular)):E(()=>c)});var v=class{constructor(t){return t}},y=class{constructor(){return M()}};function Ue(e){return e&&e.length===1?e[0]:new v(q())}var ee=new $("angularfire2._apps"),ze={provide:v,useFactory:Ue,deps:[[new A,ee]]},He={provide:y,deps:[[new A,ee]]};function Be(e){return(t,n)=>{let r=n.get(ge);l("angularfire",I.full,"core"),l("angularfire",I.full,"app"),l("angular",ke.full,r.toString());let o=t.runOutsideAngular(()=>e(n));return new v(o)}}function tr(e,...t){return O([ze,He,{provide:ee,useFactory:Be(e),multi:!0,deps:[g,w,P,...t]}])}var nr=m(we,!0);var Ve=new Map,Ke={activated:!1,tokenObservers:[]},qe={initialized:!1,enabled:!1};function d(e){return Ve.get(e)||Object.assign({},Ke)}function ye(){return qe}var Ge="https://content-firebaseappcheck.googleapis.com/v1";var Ze="exchangeDebugToken",Pe={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},fr=24*60*60*1e3;var re=class{constructor(t,n,r,o,i){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=o,o>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){return f(this,null,function*(){this.stop();try{this.pending=new B,this.pending.promise.catch(n=>{}),yield Xe(this.getNextRun(t)),this.pending.resolve(),yield this.pending.promise,this.pending=new B,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function Xe(e){return new Promise(t=>{setTimeout(t,e)})}var Ye={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},k=new ve("appCheck","AppCheck",Ye);function _e(e){if(!d(e).activated)throw k.create("use-before-activation",{appName:e.name})}function Se(r,o){return f(this,arguments,function*({url:e,body:t},n){let i={"Content-Type":"application/json"},a=n.getImmediate({optional:!0});if(a){let h=yield a.getHeartbeatsHeader();h&&(i["X-Firebase-Client"]=h)}let u={method:"POST",body:JSON.stringify(t),headers:i},c;try{c=yield fetch(e,u)}catch(h){throw k.create("fetch-network-error",{originalErrorMessage:h?.message})}if(c.status!==200)throw k.create("fetch-status-error",{httpStatus:c.status});let s;try{s=yield c.json()}catch(h){throw k.create("fetch-parse-error",{originalErrorMessage:h?.message})}let T=s.ttl.match(/^([\d.]+)(s)$/);if(!T||!T[2]||isNaN(Number(T[1])))throw k.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${s.ttl}`});let R=Number(T[1])*1e3,ue=Date.now();return{token:s.token,expireTimeMillis:ue+R,issuedAtTimeMillis:ue}})}function De(e,t){let{projectId:n,appId:r,apiKey:o}=e.options;return{url:`${Ge}/projects/${n}/apps/${r}:${Ze}?key=${o}`,body:{debug_token:t}}}var Je="firebase-app-check-database",Qe=1,oe="firebase-app-check-store";var L=null;function et(){return L||(L=new Promise((e,t)=>{try{let n=indexedDB.open(Je,Qe);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var o;t(k.create("storage-open",{originalErrorMessage:(o=r.target.error)===null||o===void 0?void 0:o.message}))},n.onupgradeneeded=r=>{let o=r.target.result;switch(r.oldVersion){case 0:o.createObjectStore(oe,{keyPath:"compositeKey"})}}}catch(n){t(k.create("storage-open",{originalErrorMessage:n?.message}))}}),L)}function tt(e,t){return nt(rt(e),t)}function nt(e,t){return f(this,null,function*(){let r=(yield et()).transaction(oe,"readwrite"),i=r.objectStore(oe).put({compositeKey:e,value:t});return new Promise((a,u)=>{i.onsuccess=c=>{a()},r.onerror=c=>{var s;u(k.create("storage-set",{originalErrorMessage:(s=c.target.error)===null||s===void 0?void 0:s.message}))}})})}function rt(e){return`${e.options.appId}-${e.name}`}var _=new Te("@firebase/app-check");function te(e,t){return Ee()?tt(e,t).catch(n=>{_.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function $e(){return ye().enabled}function Oe(){return f(this,null,function*(){let e=ye();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var ot={error:"UNKNOWN_ERROR"};function it(e){return Ae.encodeString(JSON.stringify(e),!1)}function ie(e,t=!1,n=!1){return f(this,null,function*(){let r=e.app;_e(r);let o=d(r),i=o.token,a;if(i&&!S(i)&&(o.token=void 0,i=void 0),!i){let s=yield o.cachedTokenPromise;s&&(S(s)?i=s:yield te(r,void 0))}if(!t&&i&&S(i))return{token:i.token};let u=!1;if($e())try{o.exchangeTokenPromise||(o.exchangeTokenPromise=Se(De(r,yield Oe()),e.heartbeatServiceProvider).finally(()=>{o.exchangeTokenPromise=void 0}),u=!0);let s=yield o.exchangeTokenPromise;return yield te(r,s),o.token=s,{token:s.token}}catch(s){return s.code==="appCheck/throttled"||s.code==="appCheck/initial-throttle"?_.warn(s.message):n&&_.error(s),ne(s)}try{o.exchangeTokenPromise||(o.exchangeTokenPromise=o.provider.getToken().finally(()=>{o.exchangeTokenPromise=void 0}),u=!0),i=yield d(r).exchangeTokenPromise}catch(s){s.code==="appCheck/throttled"||s.code==="appCheck/initial-throttle"?_.warn(s.message):n&&_.error(s),a=s}let c;return i?a?S(i)?c={token:i.token,internalError:a}:c=ne(a):(c={token:i.token},o.token=i,yield te(r,i)):c=ne(a),u&&ut(r,c),c})}function st(e){return f(this,null,function*(){let t=e.app;_e(t);let{provider:n}=d(t);if($e()){let r=yield Oe(),{token:o}=yield Se(De(t,r),e.heartbeatServiceProvider);return{token:o}}else{let{token:r}=yield n.getToken();return{token:r}}})}function at(e,t,n,r){let{app:o}=e,i=d(o),a={next:n,error:r,type:t};if(i.tokenObservers=[...i.tokenObservers,a],i.token&&S(i.token)){let u=i.token;Promise.resolve().then(()=>{n({token:u.token}),Re(e)}).catch(()=>{})}i.cachedTokenPromise.then(()=>Re(e))}function Ne(e,t){let n=d(e),r=n.tokenObservers.filter(o=>o.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function Re(e){let{app:t}=e,n=d(t),r=n.tokenRefresher;r||(r=ct(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function ct(e){let{app:t}=e;return new re(()=>f(null,null,function*(){let n=d(t),r;if(n.token?r=yield ie(e,!0):r=yield ie(e),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=d(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,o=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,o),Math.max(0,r-Date.now())}else return 0},Pe.RETRIAL_MIN_WAIT,Pe.RETRIAL_MAX_WAIT)}function ut(e,t){let n=d(e).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function S(e){return e.expireTimeMillis-Date.now()>0}function ne(e){return{token:it(ot),error:e}}var se=class{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:t}=d(this.app);for(let n of t)Ne(this.app,n.next);return Promise.resolve()}};function lt(e,t){return new se(e,t)}function dt(e){return{getToken:t=>ie(e,t),getLimitedUseToken:()=>st(e),addTokenListener:t=>at(e,"INTERNAL",t),removeTokenListener:t=>Ne(e.app,t)}}var ht="@firebase/app-check",pt="0.9.1";var ft="app-check",Ce="app-check-internal";function gt(){K(new V(ft,e=>{let t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return lt(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(Ce).initialize()})),K(new V(Ce,e=>{let t=e.getProvider("app-check").getImmediate();return dt(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),l(ht,pt)}gt();var mt="app-check";var j=class{constructor(){return x(mt)}};var kt=["localhost","0.0.0.0","127.0.0.1"],Cr=typeof window<"u"&&kt.includes(window.location.hostname);var We="auth",D=class{constructor(t){return t}},ae=class{constructor(){return x(We)}};var ce=new $("angularfire2.auth-instances");function fn(e,t){let n=Q(We,e,t);return n&&new D(n)}function gn(e){return(t,n)=>{let r=t.runOutsideAngular(()=>e(n));return new D(r)}}var mn={provide:ae,deps:[[new A,ce]]},kn={provide:D,useFactory:fn,deps:[[new A,ce],v]};function Io(e,...t){return l("angularfire",I.full,"auth"),O([kn,mn,{provide:ce,useFactory:gn(e),multi:!0,deps:[g,w,P,y,[new A,j],...t]}])}var Po=m(Y,!0);var Ro=m(Z,!0);var Co=m(G,!0,2);var yo=m(X,!0,2);export{J as a,I as b,Q as c,x as d,P as e,m as f,v as g,y as h,tr as i,nr as j,j as k,D as l,ae as m,Io as n,Po as o,Ro as p,Co as q,yo as r};
