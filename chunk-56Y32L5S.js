import{a as gt}from"./chunk-VKSUAIKG.js";import{a as pt,b as J,d as ut,e as ft,f as y,i as F,j as E,k as W,l as v,n as Y,o as Ct,p as T}from"./chunk-2UIDV6SX.js";import{a as ot,b as rt,c as st,f as ct,h as lt,l as dt,n as mt}from"./chunk-LIY3GWMI.js";import"./chunk-EUBCM5F7.js";import{$ as M,Ia as c,Ma as I,Qb as tt,Ra as Z,Rb as et,Sb as nt,Tb as at,Ub as it,Va as L,W as w,a as U,ab as S,b as H,c as X,cb as a,db as i,eb as K,fb as P,g as x,gb as u,hb as d,ia as m,ib as s,ja as g,jb as p,kb as D,mb as f,nb as C,ob as h,pb as $,rb as R,sb as k,za as Q}from"./chunk-VQDQLYRV.js";var A=class l{constructor(e,t){this.firestore=e}addConta(e,t){let r=E(this.firestore,"financeiro",t,"contas");return F(r,e)}alterarConta(e,t){if(!e.id||!e.dataVencimento)return Promise.reject('Conta inv\xE1lida: precisa de "id" e "dataVencimento"');let r=v(this.firestore,"financeiro",t,"contas",e.id);return T(r,{nome:e.nome,valor:e.valor,dataVencimento:e.dataVencimento,paga:e.paga})}addContasPadroes(e){return x(this,null,function*(){let r=[{id:"1uqqWxOEzL3lJlficbzA",valor:2e4,paga:!1,dataVencimento:"2025-06-10",nome:"PROLABORE"},{id:"49uDybjSOHXVCobYY0tA",nome:"E-FINANCE",dataVencimento:"2025-06-10",paga:!1,valor:450},{id:"8DsoGgUq82SoYIpGcBI3",dataVencimento:"2025-06-10",nome:"FGTS FUNCIONARIOS",paga:!1,valor:1496},{id:"AAnX0wz7dPFWxka3j08c",nome:"CONSORCIO CARRO",dataVencimento:"2025-06-10",paga:!1,valor:1700},{id:"C4h8iaBIcqxBCzedPxXw",valor:500,dataVencimento:"2025-06-10",paga:!1,nome:"CONTABILIDADE"},{id:"CBYcaNxpUKTWY1c2nKvR",nome:"PROMOB",dataVencimento:"2025-06-10",paga:!1,valor:600},{id:"HKmbAqWE7llFoR5dUti7",valor:1500,nome:"MARKETIN/ACESSORIA",dataVencimento:"2025-06-10",paga:!1},{id:"HqAX9TqoR0cLW7vTIaCf",valor:1135,paga:!1,nome:"13\xB0 FUNCIONARIOS",dataVencimento:"2025-06-10"},{id:"KnKPvlFxaFmHk6kOoKj3",valor:2e3,nome:"INVESTIMENTO LOTE",paga:!1,dataVencimento:"2025-06-10"},{id:"OiddL1KCSf5oSP6cdCik",dataVencimento:"2025-06-10",paga:!1,valor:1600,nome:"ALUGEL DEPOSITO"},{id:"SpAobLT8lo0ahR2cdLsX",paga:!1,valor:400,dataVencimento:"2025-06-10",nome:"CUSTO MATERIAL LOJA"},{id:"YUhGd2kjvEUrbJxruMTQ",valor:13600,dataVencimento:"2025-06-10",paga:!1,nome:"SALARIO FUNCIONARIOS"},{id:"pw13XrzOoWV71OYinWW0",valor:1750,nome:"ALUGUEL LOJA",dataVencimento:"2025-06-10",paga:!1},{id:"rAZKjGkG00HC3uAZ9KuE",nome:"PRONAMP",valor:1783,paga:!1,dataVencimento:"2025-06-10"},{id:"rbwi1iSQsxVRdWsJxnT5",valor:350,nome:"TELEFONE / INTERNET",paga:!1,dataVencimento:"2025-06-10"},{id:"vI5uiVDshogUjLuzYGaq",paga:!1,nome:"AGUA LOJA",valor:300,dataVencimento:"2025-06-10"},{id:"vJUpMC4I9o4r8jvQt5Gl",valor:500,dataVencimento:"2025-06-10",nome:"ENERGIA LOJA",paga:!1}].map(n=>{let o=E(this.firestore,"financeiro",e,"contas"),_=n,{id:V}=_,b=X(_,["id"]);return F(o,b)});yield Promise.all(r)})}alterarContaPaga(e,t,r){let n=v(this.firestore,"financeiro",t,"contas",e);return T(n,{paga:r})}excluirConta(e,t){let r=v(this.firestore,"financeiro",t,"contas",e);return W(r)}static \u0275fac=function(t){return new(t||l)(M(y),M(gt))};static \u0275prov=w({token:l,factory:l.\u0275fac,providedIn:"root"})};var G=class l{constructor(e){this.firestore=e}adicionarContrato(e,t){return x(this,null,function*(){let r=E(this.firestore,"financeiro",t,"contratos");yield F(r,e)})}alterarContrato(e,t){return x(this,null,function*(){if(!e.id)return Promise.reject('Contrato inv\xE1lido: precisa de "id"');let r=v(this.firestore,"financeiro",t,"contratos",e.id);yield T(r,{cliente:e.cliente,dataContrato:e.dataContrato,dataEntrega:e.dataEntrega,formaPagamento:e.formaPagamento,valorContrato:e.valorContrato,custoMontagem:e.custoMontagem,custoFabricacao:e.custoFabricacao,assistencia:e.assistencia,finalizado:e.finalizado})})}excluirContrato(e,t){return x(this,null,function*(){let r=v(this.firestore,"financeiro",t,"contratos",e);yield W(r)})}static \u0275fac=function(t){return new(t||l)(M(y))};static \u0275prov=w({token:l,factory:l.\u0275fac,providedIn:"root"})};var j=class l{constructor(e){this.firestore=e}addGasto(e){let t=pt(this.firestore,"financeiro",e.data.slice(0,7),"gastos");return F(t,e)}alterarGasto(e){if(!e.id||!e.data)return Promise.reject('Gasto inv\xE1lido: precisa de "id" e "data"');let t=J(this.firestore,"financeiro",e.data.slice(0,7),"gastos",e.id);return ut(t,{descricao:e.descricao,valor:e.valor,data:e.data})}excluirGasto(e,t){let r=J(this.firestore,"financeiro",t,"gastos",e);return ft(r)}static \u0275fac=function(t){return new(t||l)(M(y))};static \u0275prov=w({token:l,factory:l.\u0275fac,providedIn:"root"})};var B=class l{constructor(e){this.firestore=e}getFinanceiro(){return x(this,null,function*(){let e=yield Y(E(this.firestore,"financeiro"));return yield Promise.all(e.docs.map(r=>x(this,null,function*(){let n=r.id,o=r.data(),[V,b,_,O]=yield Promise.all([this.getSubcolecao("gastos",n),this.getSubcolecao("contratos",n),this.getSubcolecao("contas",n),this.getSubcolecao("rendas",n)]);return H(U({data:n},o),{gastos:V,contratos:b,contas:_,rendas:O})})))})}getSubcolecao(e,t){return x(this,null,function*(){let r=E(this.firestore,"financeiro",t,e);return(yield Y(r)).docs.map(o=>U({id:o.id},o.data()))})}adicionarFinanceiro(e){let t=v(this.firestore,"financeiro",e.data);return Ct(t,e)}calcularSaldo(e,t,r,n){let o=0;o=e.reduce((b,_)=>b+_.valor,0),o+=t.reduce((b,_)=>b+(_.custoMontagem??0)+(_.custoFabricacao??0),0),o+=r.reduce((b,_)=>b+_.valor,0),o+=this.calcularImpostoTotal(t);let V=t.reduce((b,_)=>b+(_.valorContrato??0),0);return V+=n.reduce((b,_)=>b+(_.valor??0),0),{gastoTotal:o,receitaTotal:V,lucro:V-o}}calcularImpostoTotal(e){return e.reduce((t,r)=>{if(r.imposto!==void 0&&r.valorContrato!==void 0){let n=r.imposto/100;return t+r.valorContrato*n}return t},0)}calcularContrato(e){}static \u0275fac=function(t){return new(t||l)(M(y))};static \u0275prov=w({token:l,factory:l.\u0275fac,providedIn:"root"})};var q=class l{constructor(e){this.firestore=e}adicionarRenda(e){return x(this,null,function*(){let t=E(this.firestore,"financeiro",e.data.slice(0,7),"rendas");yield F(t,e)})}alterarRenda(e,t){return x(this,null,function*(){if(!e.id)return Promise.reject('Renda inv\xE1lida: precisa de "id"');let r=v(this.firestore,"financeiro",t,"rendas",e.id);yield T(r,{origem:e.origem,valor:e.valor,data:e.data})})}excluirRenda(e,t){return x(this,null,function*(){let r=v(this.firestore,"financeiro",t,"rendas",e);yield W(r)})}static \u0275fac=function(t){return new(t||l)(M(y))};static \u0275prov=w({token:l,factory:l.\u0275fac,providedIn:"root"})};function wt(l,e){if(l&1){let t=P();a(0,"div",19)(1,"div",20)(2,"h3",21),s(3),i(),a(4,"label",22)(5,"p",23),s(6,"Data: "),i(),a(7,"input",24),h("ngModelChange",function(n){m(t);let o=d();return C(o.gastoData,n)||(o.gastoData=n),g(n)}),i()(),a(8,"label",22)(9,"p",23),s(10,"Nome: "),i(),a(11,"input",25),h("ngModelChange",function(n){m(t);let o=d();return C(o.gastoDescricao,n)||(o.gastoDescricao=n),g(n)}),i()(),a(12,"label",22)(13,"p",23),s(14,"Valor: "),i(),a(15,"input",26),h("ngModelChange",function(n){m(t);let o=d();return C(o.gastoValor,n)||(o.gastoValor=n),g(n)}),i()(),a(16,"div",27)(17,"button",28),u("click",function(){m(t);let n=d();return g(n.eddGasto?n.confirmarEditarGasto():n.adicionarGastoConfirmar())}),s(18),i(),a(19,"button",29),u("click",function(){m(t);let n=d();return g(n.cancelarGasto())}),s(20,"Cancelar"),i()()()()}if(l&2){let t=d();c(3),p(t.eddGasto?"Editar Gasto":"Adicionar Gasto"),c(4),f("ngModel",t.gastoData),c(4),f("ngModel",t.gastoDescricao),c(4),f("ngModel",t.gastoValor),c(3),p(t.eddGasto?"Editar":"Adicionar")}}function St(l,e){if(l&1){let t=P();a(0,"div",19)(1,"div",20)(2,"h3",21),s(3),i(),a(4,"label",22)(5,"input",30),h("ngModelChange",function(n){m(t);let o=d();return C(o.contratoCliente,n)||(o.contratoCliente=n),g(n)}),i()(),a(6,"label",22)(7,"input",31),h("ngModelChange",function(n){m(t);let o=d();return C(o.contratoDataContrato,n)||(o.contratoDataContrato=n),g(n)}),i()(),a(8,"label",22)(9,"input",32),h("ngModelChange",function(n){m(t);let o=d();return C(o.contratoDataEntrega,n)||(o.contratoDataEntrega=n),g(n)}),i()(),a(10,"label",22)(11,"input",33),h("ngModelChange",function(n){m(t);let o=d();return C(o.contratoFormaPagamento,n)||(o.contratoFormaPagamento=n),g(n)}),i()(),a(12,"label",22)(13,"input",34),h("ngModelChange",function(n){m(t);let o=d();return C(o.contratoValorContrato,n)||(o.contratoValorContrato=n),g(n)}),i()(),a(14,"label",22)(15,"input",35),h("ngModelChange",function(n){m(t);let o=d();return C(o.contratoCustoMontagem,n)||(o.contratoCustoMontagem=n),g(n)}),i()(),a(16,"label",22)(17,"input",36),h("ngModelChange",function(n){m(t);let o=d();return C(o.contratoCustoFabricacao,n)||(o.contratoCustoFabricacao=n),g(n)}),i()(),a(18,"label",22)(19,"input",37),h("ngModelChange",function(n){m(t);let o=d();return C(o.contratoImposto,n)||(o.contratoImposto=n),g(n)}),i()(),a(20,"div",38)(21,"label")(22,"span"),s(23,"Assist\xEAncia T\xE9cnica?"),i(),a(24,"input",39),h("ngModelChange",function(n){m(t);let o=d();return C(o.contratoAssistencia,n)||(o.contratoAssistencia=n),g(n)}),i()(),a(25,"label")(26,"span"),s(27,"Finalizado?"),i(),a(28,"input",40),h("ngModelChange",function(n){m(t);let o=d();return C(o.contratoFinalizado,n)||(o.contratoFinalizado=n),g(n)}),i()()(),a(29,"div",27)(30,"button",28),u("click",function(){m(t);let n=d();return g(n.eddContrato?n.confirmarEditarContrato():n.adicionarContratoConfirmar())}),s(31),i(),a(32,"button",29),u("click",function(){m(t);let n=d();return g(n.cancelarContrato())}),s(33,"Cancelar"),i()()()()}if(l&2){let t=d();c(3),p(t.eddContrato?"Editar Contrato":"Adicionar Contrato"),c(2),f("ngModel",t.contratoCliente),c(2),f("ngModel",t.contratoDataContrato),c(2),f("ngModel",t.contratoDataEntrega),c(2),f("ngModel",t.contratoFormaPagamento),c(2),f("ngModel",t.contratoValorContrato),c(2),f("ngModel",t.contratoCustoMontagem),c(2),f("ngModel",t.contratoCustoFabricacao),c(2),f("ngModel",t.contratoImposto),c(5),f("ngModel",t.contratoAssistencia),c(4),f("ngModel",t.contratoFinalizado),c(3),p(t.eddContrato?"Editar":"Adicionar")}}function yt(l,e){if(l&1){let t=P();a(0,"div",19)(1,"div",20)(2,"h3",21),s(3),i(),a(4,"label",22)(5,"input",41),h("ngModelChange",function(n){m(t);let o=d();return C(o.contaNome,n)||(o.contaNome=n),g(n)}),i()(),a(6,"label",22)(7,"input",42),h("ngModelChange",function(n){m(t);let o=d();return C(o.contaValor,n)||(o.contaValor=n),g(n)}),i()(),a(8,"label",22)(9,"input",43),h("ngModelChange",function(n){m(t);let o=d();return C(o.contaDataVencimento,n)||(o.contaDataVencimento=n),g(n)}),i()(),a(10,"label",38)(11,"span"),s(12,"Conta paga?"),i(),a(13,"input",44),h("ngModelChange",function(n){m(t);let o=d();return C(o.contaPaga,n)||(o.contaPaga=n),g(n)}),i()(),K(14,"label",22),a(15,"div",27)(16,"button",28),u("click",function(){m(t);let n=d();return g(n.eddConta?n.confirmarEditarConta():n.adicionarContaConfirmar())}),s(17),i(),a(18,"button",29),u("click",function(){m(t);let n=d();return g(n.cancelarConta())}),s(19,"Cancelar"),i()()()()}if(l&2){let t=d();c(3),p(t.eddConta?"Editar Conta":"Adicionar Conta"),c(2),f("ngModel",t.contaNome),c(2),f("ngModel",t.contaValor),c(2),f("ngModel",t.contaDataVencimento),c(4),f("ngModel",t.contaPaga),c(4),p(t.eddConta?"Editar":"Adicionar")}}function Et(l,e){if(l&1){let t=P();a(0,"div",19)(1,"div",20)(2,"h3",21),s(3),i(),a(4,"label",22)(5,"input",45),h("ngModelChange",function(n){m(t);let o=d();return C(o.rendaOrigem,n)||(o.rendaOrigem=n),g(n)}),i()(),a(6,"label",22)(7,"input",46),h("ngModelChange",function(n){m(t);let o=d();return C(o.rendaValor,n)||(o.rendaValor=n),g(n)}),i()(),a(8,"label",22)(9,"input",47),h("ngModelChange",function(n){m(t);let o=d();return C(o.rendaData,n)||(o.rendaData=n),g(n)}),i()(),a(10,"div",27)(11,"button",28),u("click",function(){m(t);let n=d();return g(n.eddRenda?n.confirmarEditarRenda():n.adicionarRendaConfirmar())}),s(12),i(),a(13,"button",29),u("click",function(){m(t);let n=d();return g(n.cancelarRenda())}),s(14,"Cancelar"),i()()()()}if(l&2){let t=d();c(3),p(t.eddRenda?"Editar Renda":"Adicionar Renda"),c(2),f("ngModel",t.rendaOrigem),c(2),f("ngModel",t.rendaValor),c(2),f("ngModel",t.rendaData),c(3),D(" ",t.eddRenda?"Editar":"Adicionar"," ")}}function Vt(l,e){if(l&1){let t=P();a(0,"tr")(1,"td"),s(2),i(),a(3,"td"),s(4),i(),a(5,"td"),s(6),i(),a(7,"td")(8,"button",48),u("click",function(){let n=m(t).$implicit,o=d();return g(o.editarGasto(n))}),s(9,"Edit"),i(),a(10,"button",29),u("click",function(){let n=m(t).$implicit,o=d();return g(o.excluirGasto(n))}),s(11,"Remove"),i()()()}if(l&2){let t=e.$implicit;c(2),p(t.data),c(2),p(t.descricao),c(2),D("",t.valor," R$")}}function Pt(l,e){if(l&1){let t=P();a(0,"tr")(1,"td"),s(2),i(),a(3,"td"),s(4),i(),a(5,"td"),s(6),i(),a(7,"td"),K(8,"input",49),i(),a(9,"td")(10,"button",48),u("click",function(){let n=m(t).$implicit,o=d();return g(o.editarConta(n))}),s(11,"Edit"),i(),a(12,"button",29),u("click",function(){let n=m(t).$implicit,o=d();return g(o.excluirConta(n))}),s(13,"Remove"),i()()()}if(l&2){let t=e.$implicit;c(2),p(t.nome),c(2),D("",t.valor," R$"),c(2),p(t.dataVencimento),c(2),S("checked",t.paga)}}function Ft(l,e){if(l&1){let t=P();a(0,"tr")(1,"td"),s(2),i(),a(3,"td"),s(4),i(),a(5,"td"),s(6),i(),a(7,"td"),s(8),i(),a(9,"td"),s(10),i(),a(11,"td"),s(12),R(13,"currency"),i(),a(14,"td"),s(15),R(16,"currency"),i(),a(17,"td"),s(18),R(19,"currency"),i(),a(20,"td"),s(21),i(),a(22,"td"),s(23),i(),a(24,"td")(25,"button",48),u("click",function(){let n=m(t).$implicit,o=d();return g(o.editarContrato(n))}),s(26,"Edit"),i(),a(27,"button",29),u("click",function(){let n=m(t).$implicit,o=d();return g(o.excluirContrato(n))}),s(28,"Remove"),i()()()}if(l&2){let t=e.$implicit;c(2),p(t.cliente),c(2),p(t.dataContrato),c(2),p(t.dataEntrega),c(2),p(t.formaPagamento),c(2),D("",t.imposto," %"),c(2),p(k(13,10,t.valorContrato,"BRL")),c(3),p(k(16,13,t.custoMontagem,"BRL")),c(3),p(k(19,16,t.custoFabricacao,"BRL")),c(3),p(t.assistencia?"Sim":"N\xE3o"),c(2),p(t.finalizado?"Sim":"N\xE3o")}}function Ot(l,e){if(l&1){let t=P();a(0,"tr")(1,"td"),s(2),i(),a(3,"td"),s(4),R(5,"currency"),i(),a(6,"td"),s(7),i(),a(8,"td")(9,"button",48),u("click",function(){let n=m(t).$implicit,o=d();return g(o.editarRenda(n))}),s(10,"Edit"),i(),a(11,"button",29),u("click",function(){let n=m(t).$implicit,o=d();return g(o.excluirRenda(n))}),s(12,"Remove"),i()()()}if(l&2){let t=e.$implicit;c(2),p(t.origem),c(2),p(k(5,3,t.valor,"BRL")),c(3),p(t.data)}}var ht=class l{constructor(e,t,r,n,o,V){this.financeiroService=e;this.gastosService=t;this.ContratosService=r;this.contasService=n;this.rendaService=o;this.platformId=V}dataInicio=new Date().toISOString().slice(0,7);dataFim=new Date().toISOString().slice(0,7);intervaloMeses=this.mesesSelecionados(this.dataInicio,this.dataFim);saldoTotais=0;gastosTotais=0;mesesList=[];gastosList=[];contratosList=[];contasList=[];rendaList=[];ngOnInit(){return x(this,null,function*(){yield this.carregarDadosSSRSeguro()})}carregarDadosSSRSeguro(){return x(this,null,function*(){this.mesesList=yield this.financeiroService.getFinanceiro(),this.intervaloMeses=this.mesesSelecionados(this.dataInicio,this.dataFim),this.filtraGastos(),this.filtraContratos(),this.filtrarContas(),this.filtrarRendas();let e=this.financeiroService.calcularSaldo(this.gastosList,this.contratosList,this.contasList,this.rendaList);this.saldoTotais=e.lucro,this.gastosTotais=e.gastoTotal})}carregarDados(){return x(this,null,function*(){this.mesesList=yield this.financeiroService.getFinanceiro(),this.filtraGastos(),this.filtraContratos(),this.filtrarContas(),this.filtrarRendas();let e=this.financeiroService.calcularSaldo(this.gastosList,this.contratosList,this.contasList,this.rendaList);this.saldoTotais=e.lucro,this.gastosTotais=e.gastoTotal})}atualizarDados(){this.intervaloMeses=this.mesesSelecionados(this.dataInicio,this.dataFim),this.criarMesVazio(),this.filtraGastos(),this.filtraContratos(),this.filtrarContas(),this.filtrarRendas();let e=this.financeiroService.calcularSaldo(this.gastosList,this.contratosList,this.contasList,this.rendaList);this.saldoTotais=e.lucro,this.gastosTotais=e.gastoTotal}criarMesVazio(){let e=new Set(this.mesesList.map(t=>t.data));this.intervaloMeses.forEach(t=>{e.has(t)||(this.financeiroService.adicionarFinanceiro({data:t,receita:0,despesas:0,lucro:0,gastos:[],contratos:[],contas:[],rendas:[]}),this.contasService.addContasPadroes(t))}),this.carregarDados()}mesesSelecionados(e,t){let[r,n]=e.split("-").map(Number),[o,V]=t.split("-").map(Number),b=[],_=r,O=n;for(;_<o||_===o&&O<=V;)b.push(`${_}-${O.toString().padStart(2,"0")}`),O++,O>12&&(O=1,_++);return b}filtraGastos(){this.gastosList=this.mesesList.filter(e=>this.intervaloMeses.includes(e.data)).flatMap(e=>e.gastos||[])}filtraContratos(){this.contratosList=this.mesesList.filter(e=>this.intervaloMeses.includes(e.data)).flatMap(e=>e.contratos||[])}filtrarContas(){this.contasList=this.mesesList.filter(e=>this.intervaloMeses.includes(e.data)).flatMap(e=>e.contas||[])}filtrarRendas(){this.rendaList=this.mesesList.filter(e=>this.intervaloMeses.includes(e.data)).flatMap(e=>e.rendas||[])}gastoId="";gastoData="";gastoDescricao="";gastoValor=void 0;addGasto=!1;eddGasto=!1;adicionarGasto(){this.addGasto=!0}cancelarGasto(){this.gastoId="",this.gastoData="",this.gastoDescricao="",this.gastoValor=0,this.addGasto=!1,this.eddGasto=!1}adicionarGastoConfirmar(){this.gastosService.addGasto({data:this.gastoData,descricao:this.gastoDescricao,valor:parseFloat(this.gastoValor)}),this.atualizarDados(),this.cancelarGasto()}editarGasto(e){this.gastoId=e.id??"",this.gastoData=e.data,this.gastoDescricao=e.descricao,this.gastoValor=e.valor,this.eddGasto=!0,this.addGasto=!0}confirmarEditarGasto(){this.gastosService.alterarGasto({id:this.gastoId,data:this.gastoData,descricao:this.gastoDescricao,valor:parseFloat(this.gastoValor)}).then(()=>{this.atualizarDados(),this.cancelarGasto()}),this.carregarDados()}excluirGasto(e){confirm("Deseja excluir o gasto?")&&this.gastosService.excluirGasto(e.id,e.data.slice(0,7)).then(()=>{this.carregarDados()})}contratoId="";contratoCliente="";contratoDataContrato="";contratoDataEntrega="";contratoFormaPagamento="";contratoImposto=void 0;contratoValorContrato=void 0;contratoCustoMontagem=void 0;contratoCustoFabricacao=void 0;contratoAssistencia=!1;contratoFinalizado=!1;addContrato=!1;eddContrato=!1;adicionarContrato(){this.addContrato=!0}cancelarContrato(){this.addContrato=!1,this.eddContrato=!1,this.contratoId="",this.contratoCliente="",this.contratoDataContrato="",this.contratoDataEntrega="",this.contratoFormaPagamento="",this.contratoImposto=void 0,this.contratoValorContrato=void 0,this.contratoCustoMontagem=void 0,this.contratoCustoFabricacao=void 0,this.contratoAssistencia=!1,this.contratoFinalizado=!1}adicionarContratoConfirmar(){this.ContratosService.adicionarContrato({cliente:this.contratoCliente,dataContrato:this.contratoDataContrato,dataEntrega:this.contratoDataEntrega,formaPagamento:this.contratoFormaPagamento,imposto:this.contratoImposto,valorContrato:this.contratoValorContrato,custoMontagem:this.contratoCustoMontagem,custoFabricacao:this.contratoCustoFabricacao,assistencia:this.contratoAssistencia,finalizado:this.contratoFinalizado},this.contratoDataContrato.slice(0,7)).then(()=>{this.carregarDados(),this.cancelarContrato()})}editarContrato(e){this.contratoId=e.id,this.contratoCliente=e.cliente,this.contratoDataContrato=e.dataContrato,this.contratoDataEntrega=e.dataEntrega,this.contratoFormaPagamento=e.formaPagamento,this.contratoImposto=e.imposto,this.contratoValorContrato=e.valorContrato,this.contratoCustoMontagem=e.custoMontagem,this.contratoCustoFabricacao=e.custoFabricacao,this.contratoAssistencia=e.assistencia,this.contratoFinalizado=e.finalizado,this.eddContrato=!0,this.addContrato=!0}confirmarEditarContrato(){this.ContratosService.alterarContrato({id:this.contratoId,cliente:this.contratoCliente,dataContrato:this.contratoDataContrato,dataEntrega:this.contratoDataEntrega,formaPagamento:this.contratoFormaPagamento,imposto:this.contratoImposto,valorContrato:this.contratoValorContrato,custoMontagem:this.contratoCustoMontagem,custoFabricacao:this.contratoCustoFabricacao,assistencia:this.contratoAssistencia,finalizado:this.contratoFinalizado},this.contratoDataContrato.slice(0,7)).then(()=>{this.carregarDados(),this.cancelarContrato()})}excluirContrato(e){confirm("Deseja excluir o contrato?")&&this.ContratosService.excluirContrato(e.id,e.dataContrato.slice(0,7)).then(()=>{this.carregarDados()})}contaId="";contaNome="";contaValor=void 0;contaDataVencimento="";contaPaga=!1;addConta=!1;eddConta=!1;adicionarConta(){this.addConta=!0}cancelarConta(){this.contaId="",this.contaNome="",this.contaValor=void 0,this.contaDataVencimento="",this.contaPaga=!1,this.addConta=!1,this.eddConta=!1}adicionarContaConfirmar(){this.contasService.addConta({nome:this.contaNome,valor:parseFloat(this.contaValor),dataVencimento:this.contaDataVencimento,paga:this.contaPaga},this.contaDataVencimento.slice(0,7)).then(()=>{this.carregarDados(),this.cancelarConta()})}editarConta(e){this.contaId=e.id??"",this.contaNome=e.nome,this.contaValor=e.valor,this.contaDataVencimento=e.dataVencimento,this.contaPaga=e.paga,this.eddConta=!0,this.addConta=!0}confirmarEditarConta(){this.contasService.alterarConta({id:this.contaId,nome:this.contaNome,valor:parseFloat(this.contaValor),dataVencimento:this.contaDataVencimento,paga:this.contaPaga},this.contaDataVencimento.slice(0,7)).then(()=>{this.carregarDados(),this.cancelarConta()})}excluirConta(e){confirm("Deseja excluir a conta?")&&this.contasService.excluirConta(e.id,e.dataVencimento.slice(0,7)).then(()=>{this.carregarDados()})}rendaId="";rendaOrigem="";rendaValor=void 0;rendaData="";addRenda=!1;eddRenda=!1;adicionarRenda(){this.addRenda=!0}cancelarRenda(){this.rendaId="",this.rendaOrigem="",this.rendaValor=void 0,this.rendaData="",this.addRenda=!1,this.eddRenda=!1}adicionarRendaConfirmar(){this.rendaService.adicionarRenda({origem:this.rendaOrigem,valor:parseFloat(this.rendaValor),data:this.rendaData}).then(()=>{this.carregarDados(),this.cancelarRenda()})}editarRenda(e){this.rendaId=e.id??"",this.rendaOrigem=e.origem,this.rendaValor=e.valor,this.rendaData=e.data,this.eddRenda=!0,this.addRenda=!0}confirmarEditarRenda(){this.rendaService.alterarRenda({id:this.rendaId,origem:this.rendaOrigem,valor:parseFloat(this.rendaValor),data:this.rendaData},this.rendaData.slice(0,7)).then(()=>{this.carregarDados(),this.cancelarRenda()})}excluirRenda(e){confirm("Deseja excluir esta renda?")&&this.rendaService.excluirRenda(e.id,e.data.slice(0,7)).then(()=>{this.carregarDados()})}static \u0275fac=function(t){return new(t||l)(I(B),I(j),I(G),I(A),I(q),I(Q))};static \u0275cmp=Z({type:l,selectors:[["app-financeiro"]],features:[$([j,G,A])],decls:108,vars:18,consts:[[1,"controle"],[1,"title"],[1,"form-wrap","form-values"],[1,"form-wrap","no-shadow"],["type","month","name","dataInicio",1,"input",3,"change","ngModelChange","ngModel"],["type","month","name","dataFim",1,"input",3,"change","ngModelChange","ngModel"],[1,"valor-positivo"],[1,"valor-negativo"],["class","modal",4,"ngIf"],[1,"scrollable-table"],[1,"table-buttons","no-shadow"],[1,"btn-secondary",3,"click"],[1,"scrollable-table-tabela","table-gastos"],[1,"tabela"],[4,"ngFor","ngForOf"],[1,"scrollable-table-tabela","table-conta"],[1,"scrollable-table-tabela"],[1,"tabela","tabela-contratos"],[1,"tabela","tabela-renda"],[1,"modal"],[1,"modal-content"],[1,"modal-title"],[1,"modal-label"],[1,"modal-label-text"],["type","date","name","gastoData","required","",1,"input","modal-label-input",3,"ngModelChange","ngModel"],["type","text","name","gastoDescricao","placeholder","Descri\xE7\xE3o do Gasto","required","",1,"input","modal-label-input",3,"ngModelChange","ngModel"],["type","number","name","gastoValor","placeholder","Valor do Gasto","required","",1,"input","modal-label-input",3,"ngModelChange","ngModel"],[1,"modal-actions"],[1,"btn",3,"click"],[1,"btn-sm","delete",3,"click"],["type","text","name","contratoCliente","placeholder","Cliente","required","",1,"input",3,"ngModelChange","ngModel"],["type","date","name","contratoDataContrato","required","",1,"input",3,"ngModelChange","ngModel"],["type","date","name","contratoDataEntrega","required","",1,"input",3,"ngModelChange","ngModel"],["type","text","name","contratoFormaPagamento","placeholder","Forma de Pagamento","required","",1,"input",3,"ngModelChange","ngModel"],["type","number","name","contratoValorContrato","placeholder","Valor do Contrato","required","",1,"input",3,"ngModelChange","ngModel"],["type","number","name","contratoCustoMontagem","placeholder","Custo de Montagem","required","",1,"input",3,"ngModelChange","ngModel"],["type","number","name","contratoCustoFabricacao","placeholder","Custo de Fabrica\xE7\xE3o","required","",1,"input",3,"ngModelChange","ngModel"],["type","number","name","contratoImposto","placeholder","Percentagem de Imposto","required","",1,"input",3,"ngModelChange","ngModel"],[1,"checkboxes"],["type","checkbox","name","contratoAssistencia",3,"ngModelChange","ngModel"],["type","checkbox","name","contratoFinalizado",3,"ngModelChange","ngModel"],["type","text","name","contaNome","placeholder","Nome da Conta","required","",1,"input",3,"ngModelChange","ngModel"],["type","number","name","contaValor","placeholder","Valor da Conta","required","",1,"input",3,"ngModelChange","ngModel"],["type","date","name","contaDataVencimento","required","",1,"input",3,"ngModelChange","ngModel"],["type","checkbox","name","contaPaga",3,"ngModelChange","ngModel"],["type","text","name","rendaOrigem","placeholder","Origem da Renda","required","",1,"input",3,"ngModelChange","ngModel"],["type","number","name","rendaValor","placeholder","Valor da Renda","required","",1,"input",3,"ngModelChange","ngModel"],["type","date","name","rendaData","required","",1,"input",3,"ngModelChange","ngModel"],[1,"btn-sm","edit",3,"click"],["type","checkbox","disabled","",3,"checked"]],template:function(t,r){t&1&&(a(0,"section",0)(1,"h1",1),s(2,"Controle Financeiro"),i(),a(3,"div",2)(4,"div",3)(5,"label"),s(6,"Data: "),a(7,"input",4),u("change",function(){return r.atualizarDados()}),h("ngModelChange",function(o){return C(r.dataInicio,o)||(r.dataInicio=o),o}),i()(),a(8,"label"),s(9,"At\xE9: "),a(10,"input",5),u("change",function(){return r.atualizarDados()}),h("ngModelChange",function(o){return C(r.dataFim,o)||(r.dataFim=o),o}),i()()(),a(11,"div",3)(12,"h2"),s(13,"Saldo: "),a(14,"span",6),s(15),R(16,"number"),i()(),a(17,"h2"),s(18,"Gastos: "),a(19,"span",7),s(20),R(21,"number"),i()()()(),L(22,wt,21,5,"div",8)(23,St,34,12,"div",8)(24,yt,20,6,"div",8)(25,Et,15,5,"div",8),a(26,"div",9)(27,"div",10)(28,"button",11),u("click",function(){return r.adicionarGasto()}),s(29,"Adicionar Gasto"),i(),a(30,"button",11),u("click",function(){return r.adicionarContrato()}),s(31,"Adicionar Contrato"),i(),a(32,"button",11),u("click",function(){return r.adicionarConta()}),s(33,"Adicionar Conta Mensal"),i(),a(34,"button",11),u("click",function(){return r.adicionarRenda()}),s(35,"Adicionar Renda"),i()(),a(36,"div",12)(37,"table",13)(38,"thead")(39,"tr")(40,"th"),s(41,"Data"),i(),a(42,"th"),s(43,"Descri\xE7\xE3o"),i(),a(44,"th"),s(45,"Valor Gasto"),i(),a(46,"th"),s(47,"A\xE7\xF5es"),i()()(),a(48,"tbody"),L(49,Vt,12,3,"tr",14),i()()(),a(50,"div",15)(51,"table",13)(52,"thead")(53,"tr")(54,"th"),s(55,"Nome"),i(),a(56,"th"),s(57,"Valor"),i(),a(58,"th"),s(59,"Vencimento"),i(),a(60,"th"),s(61,"Paga"),i(),a(62,"th"),s(63,"A\xE7\xF5es"),i()()(),a(64,"tbody"),L(65,Pt,14,4,"tr",14),i()()(),a(66,"div",16)(67,"table",17)(68,"thead")(69,"tr")(70,"th"),s(71,"Cliente"),i(),a(72,"th"),s(73,"Data Contrato"),i(),a(74,"th"),s(75,"Data Entrega"),i(),a(76,"th"),s(77,"Pagamento"),i(),a(78,"th"),s(79,"Percentagem do Imposto"),i(),a(80,"th"),s(81,"Valor"),i(),a(82,"th"),s(83,"Montagem"),i(),a(84,"th"),s(85,"Fabrica\xE7\xE3o"),i(),a(86,"th"),s(87,"Assist\xEAncia"),i(),a(88,"th"),s(89,"Finalizado"),i(),a(90,"th"),s(91,"A\xE7\xF5es"),i()()(),a(92,"tbody"),L(93,Ft,29,19,"tr",14),i()()(),a(94,"div",16)(95,"table",18)(96,"thead")(97,"tr")(98,"th"),s(99,"Origem"),i(),a(100,"th"),s(101,"Valor"),i(),a(102,"th"),s(103,"Data"),i(),a(104,"th"),s(105,"A\xE7\xF5es"),i()()(),a(106,"tbody"),L(107,Ot,13,6,"tr",14),i()()()()()),t&2&&(c(7),f("ngModel",r.dataInicio),c(3),f("ngModel",r.dataFim),c(5),D("",k(16,12,r.saldoTotais,"1.2-2")," R$"),c(5),D("",k(21,15,r.gastosTotais,"1.2-2")," R$"),c(2),S("ngIf",r.addGasto||r.eddGasto),c(),S("ngIf",r.addContrato),c(),S("ngIf",r.addConta||r.eddConta),c(),S("ngIf",r.addRenda||r.eddRenda),c(24),S("ngForOf",r.gastosList),c(16),S("ngForOf",r.contasList),c(28),S("ngForOf",r.contratosList),c(14),S("ngForOf",r.rendaList))},dependencies:[it,tt,et,nt,at,mt,rt,lt,ot,st,dt,ct],styles:['*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;background-color:#f8f9fa;color:#333;padding:1rem}.controle[_ngcontent-%COMP%]{margin:auto;padding:1rem;padding-left:120px}.title[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;color:#2c3e50;text-align:center;margin:2rem 0 1.5rem;position:relative;text-transform:uppercase}.title[_ngcontent-%COMP%]:after{content:"";display:block;width:35vw;height:4px;background-color:#4f46e5;margin:.5rem auto 0;border-radius:2px}.form-toggle[_ngcontent-%COMP%]{margin-bottom:1rem;padding:1rem;background-color:#fff;border-radius:8px;box-shadow:0 2px 8px #0000000d;display:flex;justify-content:center;flex-direction:column}.form-wrap[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem;margin-bottom:1rem;background-color:#fff;padding:1rem;border-radius:8px;box-shadow:0 2px 8px #0000000d}.form-values[_ngcontent-%COMP%]{width:100%;background-color:#fff;box-shadow:0 2px 8px #0000000d;justify-content:space-around}.form-wrap.form-values[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;background:#fff;padding:1rem 1.5rem;border-radius:12px;box-shadow:0 4px 12px #00000026;font-family:Segoe UI,sans-serif;gap:1.5rem;flex-wrap:wrap}.form-wrap.form-values[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;color:#333;margin:0}.form-wrap.form-values[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;color:#2c7a7b;margin-left:.5rem}.valor-positivo[_ngcontent-%COMP%]{color:#2f855a}.valor-negativo[_ngcontent-%COMP%]{color:#c53030}.no-shadow[_ngcontent-%COMP%]{box-shadow:none;padding:.5rem 0}.input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{flex:1 1 200px;padding:.7rem;border:1px solid #ccc;border-radius:6px;font-size:1rem;background-color:#fefefe}.tamanho[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;flex:1 1 100%}.checkboxes[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem;align-items:center}.checkboxes[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.4rem}.btn[_ngcontent-%COMP%], .btn-sm[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%], .btn-disabled[_ngcontent-%COMP%]{padding:.6rem 1.2rem;font-size:1rem;border-radius:6px;border:none;cursor:pointer;transition:.2s ease-in-out}.btn[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.btn[_ngcontent-%COMP%]:hover{background-color:#218838}.btn-sm.edit[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;margin-right:.5rem}.btn-sm.delete[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.btn-sm[_ngcontent-%COMP%]:hover{opacity:.9}.btn-secondary[_ngcontent-%COMP%]{background-color:#352bec;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#4f46e5}.btn-disabled[_ngcontent-%COMP%]{background-color:#ccc;color:#666;cursor:not-allowed}.scrollable-table[_ngcontent-%COMP%]{background-color:#fff;padding:1rem;border-radius:8px;box-shadow:0 2px 8px #0000000d;margin-bottom:1rem;display:flex;flex-wrap:wrap;gap:32px}.tabela[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;min-width:600px;font-family:Arial,Helvetica,sans-serif;border-radius:8px;overflow:hidden;box-shadow:0 4px 10px #0000000d}.scrollable-table-tabela[_ngcontent-%COMP%]{width:100%;max-height:58vh;overflow-y:auto;display:block;border:1px solid #dee2e6;border-radius:8px}.table-gastos[_ngcontent-%COMP%], .table-conta[_ngcontent-%COMP%]{flex:1}.table-buttons[_ngcontent-%COMP%]{display:flex;gap:32px;width:100%;margin:0;padding:0 1rem}.scrollable-table-tabela[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}.scrollable-table-tabela[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:10px}.scrollable-table-tabela[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#adb5bd;border-radius:10px;border:2px solid #f1f1f1}.scrollable-table-tabela[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#868e96}.scrollable-table-tabela[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:#adb5bd #f1f1f1}.tabela[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0;background-color:#f1f3f5;z-index:1;text-transform:uppercase;font-weight:600;transition:background-color .3s;box-shadow:0 2px 3px #00000008}.tabela[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .tabela[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem 1rem;border-bottom:1px solid #dee2e6;text-align:center;transition:background-color .2s ease,color .2s ease;max-width:300px}.tabela-contratos[_ngcontent-%COMP%]{font-size:.8rem}.tabela[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f8f9fa;cursor:pointer}.tabela[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:hover{background-color:#e9f5ff;color:#007bff}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#0006;display:flex;justify-content:center;align-items:center;z-index:999}.modal-content[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;padding:2rem;width:90%;max-width:600px;box-shadow:0 4px 20px #0003;overflow-y:auto;max-height:90vh}.modal-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#2c3e50;text-align:center;margin:2rem 0 1.5rem;position:relative;text-transform:uppercase}.modal-title[_ngcontent-%COMP%]:after{content:"";display:block;width:60%;height:4px;background-color:#4f46e5;margin:.5rem auto 0;border-radius:2px}.modal-label[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin:1rem 0}.modal-label-text[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;text-transform:uppercase;font-weight:700}.modal-label-input[_ngcontent-%COMP%]{max-width:400px;width:100%}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;margin-top:1.5rem}.flex-1[_ngcontent-%COMP%]{flex:1 1 100%}@media (max-width: 768px){.form-wrap[_ngcontent-%COMP%], .tamanho[_ngcontent-%COMP%], .checkboxes[_ngcontent-%COMP%], .modal-actions[_ngcontent-%COMP%], .form-toggle[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%}.btn-sm[_ngcontent-%COMP%]{width:100%;margin-bottom:.5rem}.tabela[_ngcontent-%COMP%]{font-size:.9rem}}']})};export{ht as FinanceiroComponent};
