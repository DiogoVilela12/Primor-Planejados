import{a as v}from"./chunk-S3MWANP4.js";import"./chunk-BBWGYPE6.js";import"./chunk-WTIKVVTU.js";import{Da as s,Ha as p,Jb as S,Ma as f,Nb as C,Qa as u,Xa as h,Za as e,_a as n,cb as b,db as i,eb as c,fb as x}from"./chunk-TPPPVHGH.js";import"./chunk-EZZN43H3.js";import"./chunk-2HP4JIPC.js";function O(l,o){if(l&1&&(e(0,"tr")(1,"td"),i(2),n(),e(3,"td"),i(4),n(),e(5,"td"),i(6),n(),e(7,"td"),i(8),n()()),l&2){let t=o.$implicit,a=b();s(2),c(t.userId),s(2),c(a.formatFirebaseTimestamp(t.timestamp)),s(2),c(t.details),s(2),c(t.action)}}var M=class l{constructor(o){this.logService=o}logsList=[];ngOnInit(){this.receberLogs()}receberLogs(){this.logService.getLogs().subscribe(o=>{this.logsList=o,this.logsList.sort((t,a)=>{let m=r=>r?typeof r.toDate=="function"?r.toDate().getTime():r instanceof Date?r.getTime():0:0,g=m(t.timestamp);return m(a.timestamp)-g})})}formatFirebaseTimestamp(o){if(!o||typeof o.toDate!="function")return"Data inv\xE1lida";let t=o.toDate(),a=String(t.getDate()).padStart(2,"0"),m=String(t.getMonth()+1).padStart(2,"0"),g=t.getFullYear(),d=String(t.getHours()).padStart(2,"0"),r=String(t.getMinutes()).padStart(2,"0"),_=String(t.getSeconds()).padStart(2,"0");return`${a}/${m}/${g} ${d}:${r}:${_}`}static \u0275fac=function(t){return new(t||l)(p(v))};static \u0275cmp=f({type:l,selectors:[["app-logs"]],decls:16,vars:2,consts:[[1,"scrollable-table"],[1,"reg"],[1,"tabela-madeiras"],[4,"ngFor","ngForOf"]],template:function(t,a){t&1&&(e(0,"div",0)(1,"p",1),i(2),n(),e(3,"table",2)(4,"thead")(5,"tr")(6,"th"),i(7,"Usuario"),n(),e(8,"th"),i(9,"Horario"),n(),e(10,"th"),i(11,"Detalhes"),n(),e(12,"th"),i(13,"A\xE7\xE3o"),n()()(),e(14,"tbody"),u(15,O,9,4,"tr",3),n()()()),t&2&&(s(2),x("Logs Registrados ",a.logsList.length,""),s(13),h("ngForOf",a.logsList))},dependencies:[C,S],styles:[".scrollable-table[_ngcontent-%COMP%]{max-height:90vh;overflow-y:auto;margin-top:20px}.tabela-madeiras[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;min-width:600px}.tabela-madeiras[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .tabela-madeiras[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:10px;text-align:center}.tabela-madeiras[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:-1px;z-index:1;font-weight:700;font-size:16px;background-color:#f2f2f2;color:#333}.tabela-madeiras[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f2f2f2;color:#333;width:20vw}.tabela-madeiras[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f9f9f9}.tabela-madeiras[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.reg[_ngcontent-%COMP%]{width:100%;text-align:center;margin:.5rem 0rem}"]})};export{M as LogsComponent};
